
go :-
    retractall(yes(_)),  % Remove any previous diagnosis answers
    retractall(no(_)),
    (hypothesis(Disease)  % Check for a diagnosis
    ->
        write('Based on the description and symptoms above, it is suggested that the patient is suffering from '),
        write(Disease),
        nl,
        diagnose_again  % Ask the user if they want to diagnose again
        ;
        write('Sorry, the system is unable to identify the disease'),
        nl,
        diagnose_again).
    diagnose_again :-
        nl,
        write('Do you want to perform another diagnosis? (yes or no)'),
        nl,
        read(Response),
        ((Response == yes ; Response == y)
        ->
        go
        ;
        write('Thank you for using the diagnosis system.')).

    % Disease 1: Filariasis
    hypothesis(filariasis) :-
        symptom('pain and swelling of the genitalia (breast, vagina or scrotum)'),
        symptom('pain and swelling of the legs and arms'),
        symptom('fever'),
        symptom('coughing'),
        symptom('shortness of breath'),
        symptom('wheezing'),
        nl,
        nl,
        write('Description:'),
        nl,
        write('Lymphatic filariasis, considered globally as a neglected tropical disease (NTD), is a parasitic disease caused by microscopic, thread-like worms. The adult worms only live in the human lymph system. The lymph system maintains the body’s fluid balance and fights infections. Lymphatic filariasis is spread from person to person by mosquitoes.'),
        nl,
        write('Symptoms:'),
        nl,
        nl,
        write('Pain and swelling of the breast, vagina, scrotum, legs and arms:  Fluid collection because of improper functioning of the lymph system.'),
        nl,
        write('Fever, Coughing, shortness of breath, and wheezing: Filarial infection can also cause tropical pulmonary eosinophilia  syndrome, although this syndrome is typically found in persons living with the disease in Asia. Eosinophilia is the presence of higher than normal disease-fighting white blood cells in the body.'),
        nl,
        nl,
        write('To confirm this diagnosis, the following test is recommended:'),
        nl,
        write('Microscopic Examination: Identification of microfilariae in a blood smear.'),
        nl,
        nl,
        write('Suggested Treatment:'),
        nl,
        write('DEC (Diethylcarbamazine Citrate) and Albendazole- Selective treatment with DEC (Diethylcarbamazine Citrate) is given to people with clinical manifestations of the disease. Mass treatment of the people living in established endemic areas. Medicines (DEC and albendazole) are given once a year for 5 years.'),
        nl,
        nl,
        write('For Future Prevention:'),
        nl,
        write('Wear a long sleeve shirt and long pants when working in farms or areas endemic to filariasis.'),
        nl,
        write('Sleep under a mosquito net.'),
        nl, !.
    
    % Disease 2: Chicken Pox
    hypothesis('chicken pox'):
        symptom('rash'),
        symptom('fluid-filled blisters'),
        symptom('fever'),
        symptom('tiredness'),
        symptom('loss of appetite'),
        symptom('headache'),
        nl,
        nl,
        write('Description:'),
        nl,
        write('Chickenpox is a highly contagious disease caused by the varicella-zoster virus (VZV). It can cause an itchy, blister-like rash among other symptoms. The rash first appears on the chest, back, and face, and then spreads over the entire body.
        Chickenpox can be serious, especially during pregnancy, in babies, adolescents, adults, and people with weakened immune systems (lowered ability to fight germs and sickness).'),
        nl,
        write('Symptoms:'),
        nl,
        nl,
        write('1: Rashes and Fluid-filled blisters'),
        nl,
        write('2: Fever'),
        nl,
        write('3: Tiredness'),
        nl,
        write('4: Loss of Appetite'),
        nl,
        write('5: Headache'),
        nl,
        nl,
        write('To confirm this diagnosis, the following test is recommended:'),
        nl,
        write('Use of polymerase chain reaction (PCR) to detect VZV in skin lesions (vesicles, scabs, maculopapular lesions). Vesicular lesions or scabs, if present, are the best for sampling.'),
        nl,
        nl,
        write('Suggested Treatment:'),
        nl,
        write('1: Calamine lotion and a cool bath with added baking soda, uncooked oatmeal, or colloidal oatmeal may help relieve some of the itching.'),
        nl,
        write('2: Use non-aspirin medications, such as acetaminophen, to relieve fever from chickenpox.'),
        nl,
        write('3: Antiviral medications are recommended for people with chickenpox that are more likely to develop serious illness, including:'),
        nl,
        write('a: Otherwise healthy people older than 12 years of age'),
        nl,
        write('b: People with chronic skin or lung disease'),
        nl,
        write('c: People receiving long-term salicylate therapy or steroid therapy'),
        nl,
        write('d: People who are pregnant'),
        nl,
        write('e: People with a weakened immune system'),
        nl,
        write('For Future Prevention:'),
        nl,
        write('Chickenpox Vaccine (Two doses):  If a vaccinated person does get chickenpox, the symptoms are usually milder with fewer or no blisters (they may have just red spots) and low or no fever.'),
        nl, !.
        
    % Disease 3
    hypothesis('dengue fever'):
        symptom('fever'),
        symptom('nausea or vomiting'),
        symptom('rash'),
        symptom('eye, muscle and bone pain'),
        symptom('belly pain'),
        symptom('bleeding from nose or gums'),
        nl,
        nl,
        write('Description:'),
        nl,
        write('A blood test is the only way to confirm the diagnosis.'),
        nl,
        write('Symptoms:'),
        nl,
        nl,
        write('1: Fever'),
        nl,
        write('2: Nausea or vomiting'),
        nl,
        write('3: Rash'),
        nl,
        write('4: Eye, muscle and bone pain'),
        nl,
        write('5: Belly pain'),
        nl,
        write('6: Bleeding from nose or gums'),
        nl,
        nl,
        write('To confirm this diagnosis, the following test is recommended:'),
        nl,
        write('A blood test is the only way to confirm the diagnosis.'),
        nl,
        nl,
        write('Suggested Treatment:'),
        nl,
        write('1: Rest as much as possible'),
        nl,
        write('2: Give paracetamol to control fever and relieve pain. Always follow product label instructions. Do not give ibuprofen, aspirin, or aspirin-containing drugs.'),
        nl,
        write('3: Cool the person’s skin with cold cloth to reduce fever.'),
        nl,
        write('4: Prevent dehydration – Dehydration occurs when a person loses too much body fluid from fever, vomiting, or not drinking enough liquids.'),
        nl,
        write('5: Severe Case: Requires immediate hospitalization'),
        nl,
        write('For Future Prevention:'),
        nl,
        write('Chickenpox Vaccine (Two doses):  If a vaccinated person does get chickenpox, the symptoms are usually milder with fewer or no blisters (they may have just red spots) and low or no fever.'),
        nl, !.

        
    % Disease 9
    hypothesis('asthma') :-
        symptom('coughing'),
        symptom('chest tightness'),
        symptom('wheezing'),
        symptom('trouble breathing'),
        nl,
        nl,
        write('Description:'),
        nl,
        write('Asthma is a disease that affects your lungs. It is one of the most common long-term diseases of children, but adults can have asthma, too. The asthma attack happens in your body’s airways, which are the paths that carry air to your lungs. As the air moves through your lungs, the airways become smaller, like the branches of a tree are smaller than the tree trunk. Less air gets in and out of your lungs, and mucous that your body makes clogs up the airways.. If you have asthma, you have it all the time, but you will have asthma attacks only when something bothers your lungs.'),
        nl,
        nl,
        write('Symptoms:'),
        nl,
        write('1: Coughing'),
        nl,
        write('2: Chest tightness'),
        nl,
        write('3: Wheezing'),
        nl,
        write('4: Trouble breathing'),
        nl,
        nl,
        write('To confirm this diagnosis, the following test is recommended:'),
        nl,
        write('Sprirometry: A breathing test to find out how well your lungs are working by testing how much air you can breathe out after taking a very deep breath before and after you use asthma medicine.'),
        nl,
        nl,
        write('Suggested Treatment:'),
        nl,
        write('1: Using a prescribed asthma inhaler in case of an asthma attack'),
        nl,
        write('2: No medication needed  '),
        nl,
        write('3: Anti-diarrheal or Emetic Drugs (for severe cases)'),
        nl,
        nl,
        write('For Future Prevention'),
        nl,
        write('1: Practice simple things like washing your hands routinely with soap and water, after using the toilet, or after contact with an infected person'),
        nl,
        write('2: Wash fruits and vegetables before eating them.'),
        nl,!.
        

    % Disease 10
    hypothesis('acute gastroenteritis') :-
        symptom('diarrhea'),
        symptom('abdominal pain'),
        symptom('fever'),
        symptom('fatigue'),
        symptom('nausea'),
        symptom('vomiting'),
        nl,
        nl,
        write('Description:'),
        nl,
        write('Acute gastroenteritis, known colloquially as a stomach bug, is an intestinal inflammation following an infection that affects the mucous membranes present in the stomach and intestine. This condition is due, in the vast majority of cases, to a virus or, more rarely, a bacterium. '),
        nl,
        nl,
        write('Symptoms:'),
        nl,
        write('1: Fever'),
        nl,
        write('2: Fatigue'),
        nl,
        write('3: Nausea or Vomiting'),
        nl,
        write('4: Diarrhea'),
        nl,
        write('5: Abdominal pain'),
        nl,
        nl,
        write('To confirm this diagnosis, the following test is recommended:'),
        nl,
        write('In case of an episode lasting beyond one week or where symptoms are poorly tolerated, a doctor will order a blood and stool exam so as to search for a possible bacterial infection.'),
        nl,
        nl,
        write('Suggested Treatment:'),
        nl,
        write('1: Recommended Bed Rest'),
        nl,
        write('2: No medication needed  '),
        nl,
        write('3: Anti-diarrheal or Emetic Drugs (for severe cases)'),
        nl,
        nl,
        write('For Future Prevention'),
        nl,
        write('1: Practice simple things like washing your hands routinely with soap and water, after using the toilet, or after contact with an infected person'),
        nl,
        write('2: Wash fruits and vegetables before eating them.'),
        nl,!.
    
    
    ask(Question) :-
        write('Is the patient suffering from '),
        write(Question),
        write('? '),
        prompt(_, ''),
        read(Response),
        ((Response == yes ; Response == y)->
            assert(yes(Question)) ;
            assert(no(Question)), fail).
                :- dynamic yes/1,no/1.
    
    symptom(S) :-
        (yes(S)
        ->
        true ;
        (no(S)
        ->
        fail ;
        ask(S))).
    
    undo :- retract(yes( )),fail.
    undo :- retract(no( )),fail.
    undo.
